<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>BOT VIP v3.2</title>
    <style>
        body { background: #000; color: #0f0; font-family: monospace; padding: 20px; }
        #screen { border: 1px solid #0f0; padding: 10px; margin-bottom: 10px; min-height: 100px; }
        input { background: #000; color: #0f0; border: 1px solid #0f0; padding: 5px; margin: 5px 0; width: 80%; }
        button { background: #0f0; color: #000; font-weight: bold; padding: 10px; cursor: pointer; border: none; }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/@fingerprintjs/fingerprintjs@3/dist/fp.min.js"></script>
</head>
<body>
    <h3>SYSTEM CONTROL - ANTI HACK</h3>
    <div id="screen">Đang xác thực thiết bị...</div>
    
    <div>
        KEY: <input type="text" id="key" placeholder="Nhập Key kích hoạt">
    </div>
    <div>
        CẦU: <input type="text" id="hist" placeholder="v.d: b,c,t">
    </div>
    <button onclick="soi()">PHÂN TÍCH</button>

    <script>
        let deviceId = "";
        const API = "https://ten-cua-ong.pythonanywhere.com"; // Thay tên của ông

        async function init() {
            try {
                const fp = await FingerprintJS.load();
                const result = await fp.get();
                deviceId = result.visitorId;
                document.getElementById('screen').innerText = "ID Thiết bị: " + deviceId + "\nYêu cầu nhập Key để mở khóa.";
            } catch (e) {
                document.getElementById('screen').innerText = "Lỗi khởi tạo: " + e;
            }
        }

        async function soi() {
            const k = document.getElementById('key').value;
            const h = document.getElementById('hist').value;
            
            const res = await fetch(`${API}/predict`, {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({id: deviceId, key: k, history: h})
            });
            const data = await res.json();
            
            if(data.status === "error") {
                document.getElementById('screen').innerText = "[!] " + data.msg;
            } else {
                document.getElementById('screen').innerText = "> Kết quả: " + data.data;
            }
        }
        init();
    </script>
</body>
</html>
